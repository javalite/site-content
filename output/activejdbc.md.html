<ol class=breadcrumb>
   <li>
<a href=/>Home</a>
</li>
   <li class=active>
ActiveJDBC
</li>
</ol>
<div class=page-header>
   <h1>
ActiveJDBC <small>Fast ORM for agile development</small>
</h1>
</div>

<h2 id="design-principles">Design principles</h2>
<ul>
<li>Infers metadata from DB</li>
<li>No configuration, just conventions. <em>Really no configuration!</em></li>
<li>Conventions are overridable in code</li>
<li>No need to learn another QL. SQL is sufficient</li>
<li>Code often reads like English</li>
<li>No sessions, no &quot;attaching, re-attaching&quot;</li>
<li>No persistence managers.</li>
<li>Models are lightweight, simple POJOs</li>
<li>No proxy-ing. What you write is what you get (WYWIWYG :))</li>
<li>No getters and setters. You can still write them if you like.</li>
<li>No DAOs and DTOs</li>
<li>No <a href="http://www.martinfowler.com/bliki/AnemicDomainModel.html">Anemic Domain Model</a></li>
</ul>
<h2 id="getting-started">Getting started</h2>
<p>If you want to get started, follow these links:</p>
<p>Please, see <a href="getting_started">Getting Started</a> for a working example.</p>
<p>Look through these:</p>
<ul>
<li>See <a href="#minute-introduction">5 minute introduction</a> below</li>
<li>Familiarize yourself with <a href="instrumentation">Instrumentation</a></li>
</ul>
<p>Other working examples:</p>
<ul>
<li><a href="https://github.com/javalite/simple-example">Maven example</a></li>
<li><a href="https://github.com/javalite/ant-example">Ant example</a></li>
<li><a href="https://github.com/javalite/standalone-example">Standalone example</a> - neither Maven nor Ant</li>
</ul>
<p>Here is <a href="http://javalite.github.io/activejdbc/">JavaDoc for ActiveJDBC</a></p>
<h2 id="documentation">Documentation</h2>
<p><a id="expand" href="javascript:void(0);"
   onclick="$('#docs').show('slow'); $('#expand').hide(); $('#collapse').show();" style="display:none">Expand table of contents</a> <a id="collapse" href="javascript:void(0);"
   onclick="$('#docs').hide('slow'); $('#collapse').hide(); $('#expand').show();">Collapse table of contents</a></p>
<div id="docs">
<ul>
<li><a href="setters_and_getters">Setters and getters</a></li>
<li><a href="record_selection">Record selection</a></li>
<li><a href="surrogate_primary_keys">Surrogate primary keys</a></li>
<li><a href="limit_and_sort">Limit and Sort</a></li>
<li><a href="record_creation">Record creation</a></li>
<li><a href="batch_operations">Batch operations</a></li>
<li><a href="validations">Validations</a></li>
<li><a href="converters">Converters</a></li>
<li><a href="optimistic_locking">Optimistic locking</a></li>
<li><a href="transactions">Transactions</a></li>
<li><a href="one_to_many_associations">One-To-Many Associations</a></li>
<li><a href="many_to_many_associations">Many-To-Many Associations</a></li>
<li><a href="polymorphic_associations">Polymorphic associations</a></li>
<li><a href="autogenerated_fields">Autogenerated Fields</a></li>
<li><a href="caching">Caching</a></li>
<li><a href="clob_support_and_caching">Clob Support and caching</a></li>
<li><a href="generation_of_xml">Generation of Xml</a></li>
<li><a href="generation_of_json">Generation of Json</a></li>
<li><a href="lifecycle_callbacks">Lifecycle Callbacks</a></li>
<li><a href="statistics_reporting">Statistical reporting</a></li>
<li><a href="lazy_and_eager">Lazy and eager</a></li>
<li><a href="logging">Logging</a></li>
<li><a href="instrumentation">Instrumentation</a></li>
<li><a href="jspec">JSpec</a></li>
<li><a href="database_migrations">DB migrations</a></li>
<li><a href="data_conversions">Data conversions</a></li>
<li><a href="writing_tests">Writing tests</a></li>
<li><a href="database_connection_management">Database connection management</a></li>
<li><a href="delete_cascade">Delete cascade</a></li>
<li><a href="inheritance">Inheritance</a></li>
<li><a href="netbeansIntegration">Netbeans Integration</a></li>
<li><a href="eclipseIntegration">Eclipse Integration</a></li>
<li><a href="intellij_idea_integration">Intellij Idea Integration</a></li>
<li><a href="ide_integrations">IDE Integrations</a></li>
<li><a href="in_clause">IN Clause</a>
</div>


</li>
</ul>
<h2 id="minute-introduction">5 minute introduction</h2>
<p>For a simple example we will use a table called PEOPLE created with this MySQL DDL:</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">CREATE</span> <span class="kw">TABLE</span> people (
  <span class="kw">id</span>  <span class="dt">int</span>(<span class="dv">11</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> auto_increment <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,
  name <span class="dt">VARCHAR</span>(<span class="dv">56</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
  last_name <span class="dt">VARCHAR</span>(<span class="dv">56</span>),
  dob <span class="dt">DATE</span>,
  graduation_date <span class="dt">DATE</span>,
  created_at DATETIME,
  updated_at DATETIME
  );</code></pre>
<p>ActiveJDBC infers DB schema parameters from a database. This means you do not have to provide it in code. The simplest model looks like this:</p>
<pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> Person <span class="kw">extends</span> Model {}</code></pre>
<p>Despite the fact that there is no code in the body of the class, it is fully functional and will map to a table called <code>PEOPLE</code> <em>automatically</em>.</p>
<h3 id="how-to-query">How to query</h3>
<p>Simplest query example:</p>
<pre class="sourceCode java"><code class="sourceCode java">List&lt;Person&gt; people = Person.<span class="fu">where</span>(<span class="st">&quot;name = &#39;John&#39;&quot;</span>);
Person aJohn = people.<span class="fu">get</span>(<span class="dv">0</span>);
String johnsLastName = aJohn.<span class="fu">get</span>(<span class="st">&quot;last_name&quot;</span>);</code></pre>
<p>The <code>where()</code> method takes a snippet of real SQL. The first line above will generate this statement: <code>SELECT * FROM people WHERE name = 'John'</code>.</p>
<p>Finder methods can also be parametrized:</p>
<pre class="sourceCode java"><code class="sourceCode java">List&lt;Person&gt; people = Person.<span class="fu">where</span>(<span class="st">&quot;name = ?&quot;</span>, <span class="st">&quot;John&quot;</span>);
Person aJohn = people.<span class="fu">get</span>(<span class="dv">0</span>);
String johnsLastName = aJohn.<span class="fu">get</span>(<span class="st">&quot;last_name&quot;</span>);</code></pre>
<p>The <code>where()</code> method takes a vararg, allowing unlimited any number of parameters to be passed into a statement.</p>
<h3 id="paging-through-data">Paging through data</h3>
<pre class="sourceCode java"><code class="sourceCode java">List&lt;Employee&gt; people = Employee.<span class="fu">where</span>(<span class="st">&quot;department = ? and hire_date &gt; ? &quot;</span>, <span class="st">&quot;IT&quot;</span>, hireDate)
    .<span class="fu">offset</span>(<span class="dv">21</span>)
    .<span class="fu">limit</span>(<span class="dv">10</span>)
    .<span class="fu">orderBy</span>(<span class="st">&quot;hire_date asc&quot;</span>);</code></pre>
<p>This query will ensure that the returned result set will start at the 21st record and will return only 10 records, according to the <code>orderBy</code>. The ActiveJDBC has a built in facility for various database flavors and it will generate appropriate SQL statement that is specific for a DB (Oracle, MySQL, etc) and is efficient. It will not fetch all records, starting with 1.</p>
<h3 id="creating-new-records">Creating new records</h3>
<p>There are several ways to do this, and the simplest is:</p>
<pre class="sourceCode java"><code class="sourceCode java">Person p = <span class="kw">new</span> <span class="fu">Person</span>();
p.<span class="fu">set</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;Marilyn&quot;</span>);
p.<span class="fu">set</span>(<span class="st">&quot;last_name&quot;</span>, <span class="st">&quot;Monroe&quot;</span>);
p.<span class="fu">set</span>(<span class="st">&quot;dob&quot;</span>, <span class="st">&quot;1935-12-06&quot;</span>);
p.<span class="fu">saveIt</span>();</code></pre>
<p>There is also a shorthand version of doing the same:</p>
<pre class="sourceCode java"><code class="sourceCode java"><span class="kw">new</span> <span class="fu">Person</span>().<span class="fu">set</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;Marilyn&quot;</span>).<span class="fu">set</span>(<span class="st">&quot;last_name&quot;</span>, <span class="st">&quot;Monroe&quot;</span>).<span class="fu">set</span>(<span class="st">&quot;dob&quot;</span>, <span class="st">&quot;1935-12-06&quot;</span>).<span class="fu">saveIt</span>();</code></pre>
<p>and yet shorter one :</p>
<pre class="sourceCode java"><code class="sourceCode java">Person.<span class="fu">createIt</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;Marilyn&quot;</span>, <span class="st">&quot;last_name&quot;</span>, <span class="st">&quot;Monroe&quot;</span>, <span class="st">&quot;dob&quot;</span>, <span class="st">&quot;1935-12-06&quot;</span>);</code></pre>
<h3 id="updating-a-record">Updating a record</h3>
<pre class="sourceCode java"><code class="sourceCode java">Employee e = Employee.<span class="fu">findFirst</span>(<span class="st">&quot;first_name = ?&quot;</span>, <span class="st">&quot;John&quot;</span>);
e.<span class="fu">set</span>(<span class="st">&quot;last_name&quot;</span>, <span class="st">&quot;Steinbeck&quot;</span>).<span class="fu">saveIt</span>();</code></pre>
<h3 id="deleting-a-record">Deleting a record</h3>
<pre class="sourceCode java"><code class="sourceCode java">Employee e = Employee.<span class="fu">findFirst</span>(<span class="st">&quot;first_name = ?&quot;</span>, <span class="st">&quot;John&quot;</span>);
e.<span class="fu">delete</span>();</code></pre>
<p>There are more ways to delete, follow <a href="delete_cascade">Delete cascade</a> to learn more.</p>
<h2 id="supported-databases">Supported databases</h2>
<p>Currently the following databases are supported:</p>
<ul>
<li>SQLServer</li>
<li>MySQL</li>
<li>Oracle</li>
<li>PostgreSQL</li>
<li>H2</li>
<li>SQLite3 (currently only <a href="https://github.com/javalite/activejdbc/issues/306">blob support is not working</a> )</li>
</ul>
<p>Adding a new dialect is relatively easy. Just look at commits on this branch: <a href="https://github.com/javalite/activejdbc/tree/h2integration">h2integration</a></p>
<h2 id="getting-the-latest-version">Getting the latest version</h2>
<p>For the latest version refer to <a href="http://search.maven.org/#search%7Cga%7C1%7Cactivejdbc">ActiveJDBC on Maven Central</a>. If you use Maven add this to your pom:</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;dependency&gt;</span>
    <span class="kw">&lt;groupId&gt;</span>org.javalite<span class="kw">&lt;/groupId&gt;</span>
    <span class="kw">&lt;artifactId&gt;</span>activejdbc<span class="kw">&lt;/artifactId&gt;</span>
    <span class="kw">&lt;version&gt;</span>LATEST_VERSION<span class="kw">&lt;/version&gt;</span>
<span class="kw">&lt;/dependency&gt;</span></code></pre>
<p>Do not forget to replace LATEST_VERSION with the latest version deployed to Maven Central (see above)</p>
<p>Current latest version: 1.4.9.</p>
<p>Additionally, configure Instrumentation plugin:</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;plugin&gt;</span>
    <span class="kw">&lt;groupId&gt;</span>org.javalite<span class="kw">&lt;/groupId&gt;</span>
    <span class="kw">&lt;artifactId&gt;</span>activejdbc-instrumentation<span class="kw">&lt;/artifactId&gt;</span>
    <span class="kw">&lt;version&gt;</span>LATEST_VERSION<span class="kw">&lt;/version&gt;</span>
    <span class="kw">&lt;executions&gt;</span>
        <span class="kw">&lt;execution&gt;</span>
            <span class="kw">&lt;phase&gt;</span>process-classes<span class="kw">&lt;/phase&gt;</span>
            <span class="kw">&lt;goals&gt;</span>
                <span class="kw">&lt;goal&gt;</span>instrument<span class="kw">&lt;/goal&gt;</span>
            <span class="kw">&lt;/goals&gt;</span>
        <span class="kw">&lt;/execution&gt;</span>
    <span class="kw">&lt;/executions&gt;</span>
<span class="kw">&lt;/plugin&gt;</span></code></pre>
<p>Or download from: <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22activejdbc-instrumentation%22">ActiveJDBC Instrumentation plugin on Maven Central</a></p>
<h2 id="getting-latest-snapshot-versions">Getting latest snapshot versions</h2>
<p>If you are using Maven, add these repositories to your pom:</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;repositories&gt;</span>
    <span class="kw">&lt;repository&gt;</span>
        <span class="kw">&lt;id&gt;</span>sonatype-nexus-snapshots<span class="kw">&lt;/id&gt;</span>
        <span class="kw">&lt;name&gt;</span>Sonatype Nexus Plugin Snapshots<span class="kw">&lt;/name&gt;</span>
        <span class="kw">&lt;url&gt;</span>https://oss.sonatype.org/content/repositories/snapshots<span class="kw">&lt;/url&gt;</span>
        <span class="kw">&lt;releases&gt;</span>
            <span class="kw">&lt;enabled&gt;</span>false<span class="kw">&lt;/enabled&gt;</span>
        <span class="kw">&lt;/releases&gt;</span>
        <span class="kw">&lt;snapshots&gt;</span>
            <span class="kw">&lt;enabled&gt;</span>true<span class="kw">&lt;/enabled&gt;</span>
        <span class="kw">&lt;/snapshots&gt;</span>
    <span class="kw">&lt;/repository&gt;</span>
<span class="kw">&lt;/repositories&gt;</span>
<span class="kw">&lt;pluginRepositories&gt;</span>
    <span class="kw">&lt;pluginRepository&gt;</span>
        <span class="kw">&lt;id&gt;</span>sonatype-nexus-plugin-snapshots<span class="kw">&lt;/id&gt;</span>
        <span class="kw">&lt;name&gt;</span>Sonatype Nexus Plugin Snapshots<span class="kw">&lt;/name&gt;</span>
        <span class="kw">&lt;url&gt;</span>https://oss.sonatype.org/content/repositories/snapshots<span class="kw">&lt;/url&gt;</span>
        <span class="kw">&lt;releases&gt;</span>
            <span class="kw">&lt;enabled&gt;</span>false<span class="kw">&lt;/enabled&gt;</span>
        <span class="kw">&lt;/releases&gt;</span>
        <span class="kw">&lt;snapshots&gt;</span>
            <span class="kw">&lt;enabled&gt;</span>true<span class="kw">&lt;/enabled&gt;</span>
        <span class="kw">&lt;/snapshots&gt;</span>
    <span class="kw">&lt;/pluginRepository&gt;</span>
<span class="kw">&lt;/pluginRepositories&gt;</span></code></pre>
<p>If you are not using Maven, you can pull down the latest snapshots from here: <a href="https://oss.sonatype.org/content/repositories/snapshots/org/javalite/">Sonatype Snapshots</a></p>
